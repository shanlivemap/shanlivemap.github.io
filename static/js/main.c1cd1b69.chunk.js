(this.webpackJsonpshanlivemap_webapp=this.webpackJsonpshanlivemap_webapp||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},141:function(e,t,n){},214:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var i=n(2),c=n.n(i),a=n(51),o=n.n(a),l=(n(102),n(103),n(54)),s=n(11),r=n(12),d=(n(104),n(105),n(106),n(15)),j=n(68),u=n.n(j),b=n(94),p=n(55),h=n(95),x=n(26),O=(n(135),{apiKey:"AIzaSyAdj_rpghrc3go953SdOwGlpC6toemZxQQ",authDomain:"midyear-cursor-301817.firebaseapp.com",projectId:"midyear-cursor-301817",storageBucket:"midyear-cursor-301817.appspot.com",databaseURL:"https://midyear-cursor-301817-default-rtdb.firebaseio.com",messagingSenderId:"50438520866",appId:"1:50438520866:web:b74447f23d15458c2fca7b"});x.a.initializeApp(O);var m=n(3),f=function(e){var t=e.visible,n=(e.logined,Object(i.useState)(!1)),c=Object(r.a)(n,2),a=(c[0],c[1]);return Object(m.jsx)("div",{className:"loginModel ".concat(t?"visible":"hide"),style:{margin:"20px 8px 8px 40px",fontStyle:"normal",fontVariant:"normal",textRendering:"auto",textDecoration:"inherit",WebkitFontSmoothing:"antialiased"},children:Object(m.jsx)(p.a,Object(d.a)(Object(d.a)({},O),{},{firebase:x.a,children:Object(m.jsx)(h.a,{initial:{isLoading:!1},children:function(e){e.state;var t=e.setState;return Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(p.b,{children:Object(m.jsxs)("div",{onLoad:a(!0),children:[Object(m.jsx)("h2",{style:{color:"white"},children:" Edit Mode "}),Object(m.jsx)("button",{className:"logout-btn",onClick:Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({isLoading:!0}),e.next=3,x.a.app().auth().signOut();case 3:t({isLoading:!1});case 4:case"end":return e.stop()}}),e)}))),children:"Logout"})]})}),Object(m.jsx)(p.c,{children:Object(m.jsxs)("div",{onLoad:a(!1),children:[Object(m.jsx)("h2",{style:{color:"white"},children:"View Mode"}),Object(m.jsx)("button",{className:"login-btn",onClick:function(){t({isLoading:!0});var e=new x.a.auth.GoogleAuthProvider;x.a.auth().signInWithPopup(e)},children:"Login"})]})})]})}})}))})},g=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var c=n[i];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(t))return c.substring(t.length,c.length)}return null},v=n(53),y=n(23),w=n.n(y),k=(w.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",w.a.stopTimer),e.addEventListener("mouseleave",w.a.resumeTimer)}}),function(){var e=Object(i.useState)("close-nav"),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(!1),o=Object(r.a)(a,2),s=o[0],d=o[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{id:"mySidenav",className:"sidenav ".concat(n),children:[Object(m.jsx)("div",{className:"closebtn",onClick:function(){c("close-nav")},children:"\xd7"}),Object(m.jsx)(l.b,{to:"/home",children:"Home"}),Object(m.jsx)("div",{children:Object(m.jsx)(f,{visible:s})})]}),Object(m.jsxs)("div",{style:{fontSize:"20px",cursor:"pointer",background:"rgb(39, 155, 190)",color:"white",position:"fixed",zIndex:"1000",width:"100%",padding:"5px"},onClick:function(){c("open-nav"),"exists"===g("MASTER_LOGIN")?d(!0):d(!1)},children:["\xa0 \u2630 \xa0 Shan Map Live \xa0\xa0\xa0",Object(m.jsx)(v.Detector,{render:function(e){var t=e.online;return Object(m.jsx)("a",{className:"".concat(t?"normal":"warning"),children:t?"Online":"Offline"})}})]})]})}),S=n(220),C=n(221),M=n(217);function z(e){var t=e.center,n=e.zoom;return Object(M.a)().setView(t,n),null}var N=n(75),A=n(74),L=n(9),T=n.n(L),U=n(218),I=n(219),P=n.p+"static/media/person.f487c13b.svg",F=n.p+"static/media/bearer.56672884.svg",R=n.p+"static/media/redcross.1cef6356.svg",D=new T.a.Icon({iconUrl:P,iconRetinaUrl:P,iconAnchor:null,popupAnchor:[-3,-20],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new T.a.Point(25,30),className:"leaflet-div-personicon"}),E=new T.a.Icon({iconUrl:F,iconRetinaUrl:F,iconAnchor:null,popupAnchor:[-3,-20],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new T.a.Point(25,40),className:"leaflet-div-bearer"}),K=new T.a.Icon({iconUrl:R,iconRetinaUrl:R,iconAnchor:null,popupAnchor:[-3,-20],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new T.a.Point(25,40),className:"leaflet-div-rescue"}),B={"1-10":[15,15],"10-20":[20,20],"20-50":[25,25],"50-100":[30,30],"100-200":[35,35],"200-above":[40,40]},_=function(e){return B[e]},H=(n(141),function(e){var t=e.position,n=e.message;return Object(m.jsx)(U.a,{position:t,icon:D,children:Object(m.jsx)(I.a,{on:!0,children:n})})}),G=function(e){var t=e.id,n=e.position,i=e.message,c=e.unitSize,a=e.onMarkerClick,o=e.fbKey,l=new T.a.divIcon({iconUrl:null,iconRetinaUrl:null,iconAnchor:null,popupAnchor:[-3,-20],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:Object(N.a)(T.a.Point,Object(A.a)(_(c))),className:"leaflet-div-police blue-circle"});return Object(m.jsx)(U.a,{position:n,icon:l,eventHandlers:{contextmenu:function(e){a(e,o,t)}},children:Object(m.jsx)(I.a,{children:"".concat(i,"\n \u1010\u1015\u103a\u1016\u103d\u1032\u1037 \u1021\u1004\u103a\u1021\u102c\u1038 ").concat(c," \u1001\u1014\u103a\u1037")})})},W=function(e){var t=e.id,n=e.position,i=e.message,c=e.onMarkerClick,a=e.fbKey;return Object(m.jsx)(U.a,{position:n,icon:E,eventHandlers:{contextmenu:function(e){c(e,a,t)}},children:i&&Object(m.jsx)(I.a,{children:i})})},V=function(e){var t=e.id,n=e.position,i=e.message,c=e.onMarkerClick,a=e.fbKey;return Object(m.jsx)(U.a,{position:n,icon:K,eventHandlers:{contextmenu:function(e){c(e,a,t)}},children:i&&Object(m.jsx)(I.a,{children:i})})},J=function(e){var t=e.id,n=e.position,i=e.message,c=e.unitSize,a=e.onMarkerClick,o=e.fbKey,l=new T.a.divIcon({iconUrl:null,iconRetinaUrl:null,iconAnchor:null,popupAnchor:[-3,-20],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:Object(N.a)(T.a.Point,Object(A.a)(_(c))),className:"leaflet-div-militry red-circle"});return Object(m.jsx)(U.a,{position:n,icon:l,eventHandlers:{contextmenu:function(e){a&&a(e,o,t)}},children:Object(m.jsx)(I.a,{children:"".concat(i,"\n \u1010\u1015\u103a\u1016\u103d\u1032\u1037 \u1021\u1004\u103a\u1021\u102c\u1038 ").concat(c," \u1001\u1014\u103a\u1037")})})},Q=function(e){var t=e.id,n=e.type,i=e.position,c=e.message,a=e.unitSize,o=e.onMarkerClick,l=e.fbKey;return Object(m.jsxs)(m.Fragment,{children:["pol"===n&&Object(m.jsx)(G,{position:[i.lat,i.lng],message:c,unitSize:a,onMarkerClick:o,id:t,fbKey:l}),"bearer"===n&&Object(m.jsx)(W,{position:[i.lat,i.lng],message:c,onMarkerClick:o,id:t,fbKey:l}),"milt"===n&&Object(m.jsx)(J,{position:[i.lat,i.lng],message:c,unitSize:a,onMarkerClick:o,id:t,fbKey:l}),"resc"===n&&Object(m.jsx)(V,{position:[i.lat,i.lng],message:c,onMarkerClick:o,id:t,fbKey:l})]})},Z=n(38),Y=n(71),q=function(){var e=Object(M.a)();return Object(i.useEffect)((function(){var t=T.a.control({position:"bottomleft"});t.onAdd=function(){var e=T.a.DomUtil.create("div","info legend");e.style.background="rgb(56, 56, 56,0.7)",e.style.width="160px",e.style.padding="20px 10px 10px 10px",e.style.display="flex",e.style.flexDirection="column",e.style.borderRadius="20px",e.style.color="white",e.style.fontSize="15px",e.style.marginBottom="20px";var t=[];return t.push("<div style='display:flex;'><div class='red-circle' style='width:20px;height:20px;margin-left: 10px;\n          margin-top: 5px;'></div> <p style=\"margin:0;line-height: 10px;\n          \">\u1005\u1005\u103a\u1010\u1015\u103a </p></div>"),t.push("<div style='display:flex;'><div class='blue-circle' style='width:20px;height:20px;margin-left: 10px;\n          margin-top: 5px;'></div> <p style=\"margin:0;line-height: 10px;\n          \">\u101b\u1032/\u101c\u102f\u1036\u1011\u102d\u1014\u103a\u1038 </p></div>"),t.push("<div style='display:flex;'><img class='legend-marker' src='".concat(R,"' style='width:25px;height:25px;'/><p style=\"margin:0; line-height: 16px;\n        margin-left: 6px;\n            \">\u1000\u101a\u103a\u1006\u101a\u103a\u101b\u1031\u1038/\u1006\u1031\u1038\u101b\u102f\u1036\u104a \u1006\u1031\u1038\u1001\u1014\u103a\u1038</p></div>")),t.push("<div style='display:flex;'><img class='legend-marker' src='".concat(F,"' style='width:25px;height:25px;'/><p style=\"margin:0;  line-height: 16px;\n        margin-left: 6px;\n            \">\u1021\u1010\u102c\u1038\u1021\u1006\u102e\u1038\u1019\u103b\u102c\u1038 </p></div>")),t.push("<div style='display:flex;'><img class='legend-marker' src='".concat(P,"' style='width:25px;height:25px;'/><p style=\"margin:0;  line-height: 16px;\n        margin-left: 6px;\n            \">\u101e\u1004\u103a \u101c\u1000\u103a\u101b\u103e\u102d\u1014\u1031\u101b\u102c</p></div>")),e.innerHTML=t.join("<br>"),e},t.addTo(e)}),[e]),null},X=(n(214),function(e){var t=e.visible,n=e.onOkClick,c=e.onCancelClick,a=Object(i.useState)("pol"),o=Object(r.a)(a,2),l=o[0],s=o[1],d=Object(i.useState)("1-10"),j=Object(r.a)(d,2),u=j[0],b=j[1],p=Object(i.useState)(""),h=Object(r.a)(p,2),x=h[0],O=h[1];return Object(m.jsx)("div",{id:"myModal",className:"modal ".concat(t?"visible":"hide"),children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsx)("span",{className:"close",onClick:function(){return c()},children:"\xd7"}),Object(m.jsx)("br",{className:"clear"}),Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("p",{children:"\u1010\u103d\u1031\u1037\u101b\u103e\u102d\u101e\u1031\u102c \xa0\u1021\u101b\u102c"}),Object(m.jsxs)("select",{onChange:function(e){s(e.target.value)},children:[Object(m.jsx)("option",{value:"pol",selected:!0,children:"\u101b\u1032 / \u101c\u102f\u1036\u1011\u102d\u1014\u103a\u1038"}),Object(m.jsx)("option",{value:"resc",children:"\u1000\u101a\u103a\u1006\u101a\u103a\u101b\u1031\u1038 / \u1006\u1031\u1038\u101b\u102f\u1036\u1006\u1031\u1038\u1001\u1014\u103a\u1038"}),Object(m.jsx)("option",{value:"milt",children:"\u1005\u1005\u103a\u1010\u1015\u103a"}),Object(m.jsx)("option",{value:"bearer",children:"\u1021\u1010\u102c\u1038\u1021\u1006\u102e\u1038"})]})]}),("pol"===l||"milt"===l)&&Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("p",{children:"\u1010\u1015\u103a\u1016\u103d\u1032\u1037\u101d\u1004\u103a \u1021\u1004\u103a\u1021\u102c\u1038"}),Object(m.jsxs)("select",{onChange:function(e){b(e.target.value)},children:[Object(m.jsx)("option",{value:"1-10",selected:!0,children:"\u1041 - \u1041\u1040 \u1001\u1014\u103a\u1037 "}),Object(m.jsx)("option",{value:"10-20",children:"\u1041\u1040 - \u1042\u1040\u1001\u1014\u103a\u1037 "}),Object(m.jsx)("option",{value:"20-50",children:" \u1042\u1040 - \u1045\u1040 \u1001\u1014\u103a\u1037"}),Object(m.jsx)("option",{value:"50-100",children:"\u1045\u1040 - \u1041\u1040\u1040\u1001\u1014\u103a\u1037"}),Object(m.jsx)("option",{value:"100-200",children:"\u1041\u1040\u1040 - \u1042\u1040\u1040\u1001\u1014\u103a\u1037"}),Object(m.jsx)("option",{value:"200-above",children:"\u1042\u1040\u1040 \u1014\u103e\u1004\u103a\u1037\u1021\u1011\u1000\u103a"})]})]}),Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("p",{children:"\u1015\u103c\u1031\u102c\u101c\u102d\u102f\u101e\u1031\u102c \u1021\u101b\u102c"}),Object(m.jsx)("textarea",{cols:"20",rows:"10",onChange:function(e){return O(e.target.value)}})]}),Object(m.jsx)("div",{className:"flex",children:Object(m.jsx)("button",{onClick:function(){n({objType:l,message:x,unitSize:u})},children:"Report (\u1010\u1004\u103a\u1019\u100a\u103a)"})}),Object(m.jsx)("div",{className:"flex",children:Object(m.jsx)("button",{onClick:function(){return c()},children:"Cancel (\u1011\u103d\u1000\u103a\u1019\u100a\u103a)"})})]})})});function $(e){var t=e.onMapClick;return Object(M.b)({click:function(e){},contextmenu:function(e){t(e.latlng)}}),Object(m.jsx)(m.Fragment,{})}var ee=n(76),te=n(73),ne=w.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",w.a.stopTimer),e.addEventListener("mouseleave",w.a.resumeTimer)}});var ie=function(){var e=Object(i.useState)({lat:22.94083,lng:97.74459}),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(!1),o=Object(r.a)(a,2),l=o[0],s=o[1],j=Object(i.useState)(!1),u=Object(r.a)(j,2),b=u[0],p=u[1],h=Object(i.useState)({lat:22.94083,lng:97.74459}),x=Object(r.a)(h,2),f=x[0],y=x[1],w=Object(i.useState)({lat:22.94083,lng:97.74459}),k=Object(r.a)(w,2),M=k[0],N=k[1];return Object(i.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){c({lat:e.coords.latitude,lng:e.coords.longitude}),N({lat:e.coords.latitude,lng:e.coords.longitude})}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v.Detector,{render:function(e){var t=e.online;return b!==t&&(p(t),function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?ne.fire({icon:"success",title:"Connected"}):ne.fire({icon:"error",title:"Disconnected "})}(t)),null}}),Object(m.jsx)(X,{visible:l,onOkClick:function(e){Z.a.database().ref("locations/"+Object(ee.a)()).set({created_at:Date.now(),id:Object(ee.a)(),unitSize:e.unitSize,message:e.message,position:{lat:f.lat,lng:f.lng},type:e.objType}),s(!1)},onCancelClick:function(){s(!1)}}),Object(m.jsxs)(Y.b,Object(d.a)(Object(d.a)({firebase:Z.a},O),{},{children:[Object(m.jsx)("div",{className:"location-selector-wrapper",children:Object(m.jsx)("div",{className:"location-selector",children:Object(m.jsxs)("select",{onChange:function(e){c({lat:parseFloat(e.target.value.split("|")[0]),lng:parseFloat(e.target.value.split("|")[1])})},children:[Object(m.jsx)("option",{value:"22.94083|97.74459",selected:!0,children:"\u101c\u102c\u1038\u101b\u103e\u102d\u102f\u1038 (Lashio)"}),Object(m.jsx)("option",{value:"16.8409|96.1735",children:" \u101b\u1014\u103a\u1000\u102f\u1014\u103a (Yangon)"}),Object(m.jsx)("option",{value:"21.9588|96.0891",children:" \u1019\u1014\u1039\u1010\u101c\u1031\u1038 (Mandalay)"}),Object(m.jsx)("option",{value:"24.1821769|96.329305",children:"\u1000\u101e\u102c (Kathar)"}),Object(m.jsx)("option",{value:"22.1097701|95.1243952",children:"\u1019\u102f\u1036\u101b\u103d\u102c (Monywa)"}),Object(m.jsx)("option",{value:"18.8239172|95.2247068",children:"\u1015\u103c\u100a\u103a (Pyay)"}),Object(m.jsx)("option",{value:"17.3050582|96.4407641",children:"\u1015\u1032\u1001\u1030\u1038 (Bago)"}),Object(m.jsx)("option",{value:"16.9347022|97.3326008",children:"\u101e\u1011\u102f\u1036 (Tha Htone) "}),Object(m.jsx)("option",{value:"16.4537233|97.5891465",children:"\u1019\u1031\u102c\u103a\u101c\u1019\u103c\u102d\u102f\u1004\u103a(MawlaMyine)"}),Object(m.jsx)("option",{value:"19.7633|96.0785",children:"\u1014\u1031\u1015\u103c\u100a\u103a\u1010\u1031\u102c\u103a (Naypyi Daw)"}),Object(m.jsx)("option",{value:"14.0828|98.1940",children:"\u1011\u102c\u1038\u101d\u101a\u103a (Dawei)"})]})})}),Object(m.jsxs)(S.a,{style:{height:"100vh"},center:[n.lat,n.lng],zoom:13,zoomControl:!0,scrollWheelZoom:!0,children:[Object(m.jsx)($,{onMapClick:function(e){if("exists"===g("MASTER_LOGIN"))y({lat:e.lat,lng:e.lng}),s(!0);else{var t=prompt("Please enter master password:","");t&&"5cf04b2aa01e7b7215daada699a6917f64a9f431c62b4b930878e4d580c7c508"===Object(te.sha256)(btoa(t))&&(y({lat:e.lat,lng:e.lng}),s(!0),function(e,t,n){var i="";if(n){var c=new Date;c.setTime(c.getTime()+24*n*60*60*1e3),i="; expires="+c.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"}("MASTER_LOGIN","exists",1))}}}),Object(m.jsx)(z,{center:[n.lat,n.lng],zoom:14}),Object(m.jsx)(C.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors, <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),Object(m.jsx)(H,{position:[M.lat,M.lng],message:"\u101e\u1004\u103a\u101b\u1032\u1037 \u101c\u1000\u103a\u101b\u103e\u102d\u1010\u100a\u103a\u1014\u1031\u101b\u102c"}),Object(m.jsx)(Y.a,{path:"locations",children:function(e){return Object(m.jsx)(m.Fragment,{children:!e.isLoading&&e.value&&Object.keys(e.value).map((function(t){return Object(m.jsx)(Q,Object(d.a)(Object(d.a)({},e.value[t]),{},{fbKey:t,onMarkerClick:function(e,t,n){if("exists"===g("MASTER_LOGIN")){window.confirm("Want to delete?")&&Z.a.database().ref("locations/"+t).remove()}else{var i=prompt("Please enter master password:");if(i&&"5cf04b2aa01e7b7215daada699a6917f64a9f431c62b4b930878e4d580c7c508"===Object(te.sha256)(btoa(i)))window.confirm("Want to delete?")&&Z.a.database().ref("locations/"+t).remove()}}}),t)}))})}}),Object(m.jsx)(q,{})]})]}))]})};var ce=function(){return Object(m.jsxs)(l.a,{basename:window.location.pathname||"",children:[Object(m.jsx)(k,{}),Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.a,{exact:!0,path:"/",children:Object(m.jsx)(ie,{})}),Object(m.jsx)(s.a,{exact:!0,path:"/home",children:Object(m.jsx)(ie,{})}),Object(m.jsx)(s.a,{path:"*",children:" 404 "})]})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(ce,{})}),document.getElementById("root")),ae()}},[[216,1,2]]]);
//# sourceMappingURL=main.c1cd1b69.chunk.js.map